<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Instruction Set Reference for the 6510 Microprocessor: BRK</title>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src vscode-resource: 'self' 'unsafe-inline'; font-src vscode-resource: ; img-src vscode-resource: ; style-src vscode-resource: 'self' 'unsafe-inline';" />
  <link href="${stylesc64opcodesUri}" type="text/css" rel="stylesheet">
  <script src="${scriptUri}"></script>
  <style>
    /*C64FONT*/
  </style>
</head>

<body>
  <!--
  <script nonce="${nonce}" src="${scriptUri}"></script>
	-->
  <div id="page-container">
    <div id="content-wrap">
      <div class="TitleBlock"> <img src="${imgc64screenUri}" alt="c64 logo" width="264" height="180" align="left" class="center">
        <h1 style="text-align:center; padding-top: 20px;">BRK</h1>
        <h2 style="text-align:center; ">Forced Break</h2>
        <h4 style="text-align:center; ">Operation: Forces software interrupt, transfer to stack PC+2 and P</h4>
      </div>
      <br><br>

      <table class='modes'>
        <tr>
          <th>
            Mode
          </th>
          <th>
            Syntax
          </th>
          <th>
            HEX
          </th>
          <th>
            LEN
          </th>
          <th>
            TIME
          </th>
        </tr>
        <tr>
          <td>Implied</td>
          <td>BRK</td>
          <td>$00</td>
          <td>1</td>
          <td>7</td>
        </tr>
        <tr>
          <th colspan=5>
            <table class='modes flags'>
              <tr>
                <td>N</td>
                <td>V</td>
                <td>&#151;</td>
                <td>B</td>
                <td>D</td>
                <td>I</td>
                <td>Z</td>
                <td>C</td>
              </tr>
              <tr style="color: olivedrab;">
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td>&#10003;</td>
                <td>&nbsp;</td>
                <td>&#10003;</td>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
              </tr>
            </table>
          </th>
        </tr>
      </table>

      <p style="text-align:center;">The break status flag is set.<br>The interrupt status flag is set.</p>

      <p>This instruction forces a software interrupt. System takes control and executes the interrput service routine that returns control to Basic. However, user can change the jump to this routine. This interrupt puts the break flag (B) = 1 to indicate
        that a software interrupt was forced. It also activates the interrupt flag, saves the Program Counter (PC+2) and P register into the stack (in this precise order). The jump to the interrupt service routine is made through an indirect jump to the
        vector in $FFFE/$FFFF (NMI vector).</p>

      <p>It is a useful instruction to make breakpoints in our programs to facilitate the debugging process.</p>

      <p>Note: a brk instruction cannot be masked touching the I flag.</p>

      <h2>Navigation:</h2>
      <button class="button buttonOPCODE" onclick="cmdHOME()">Home</button>
      <button class="button buttonOPCODE" onclick="cmdVIEWALL()">View All Opcodes List</button>
      <button class="button buttonOPCODE" onclick="cmdOTHER()">View Other Instructions</button>
    </div>
    <footer id="footer">C64 Opcodes Extension, By WillASM</footer>
  </div>
</body>

</html>