<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Instruction Set Reference for the 6510 Microprocessor: RTI</title>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src vscode-resource: 'self' 'unsafe-inline'; font-src vscode-resource: ; img-src vscode-resource: ; style-src vscode-resource: 'self' 'unsafe-inline';" />
  <link href="${stylesc64opcodesUri}" type="text/css" rel="stylesheet">
  <script src="${scriptUri}"></script>
  <style>
    /*C64FONT*/
  </style>
</head>

<body>
  <div id="page-container">
    <div id="content-wrap">
      <div id="header"><img src="${imgc64screenUri}" alt="c64 logo" width="264" height="180" id="header-image">
        <div id="header-text">
          <h1>RTI</h1>
          <h2 style="text-align:center;">ReTurn from Interrupt</h2>
          <h4 style="text-align:center;">Operation: Retrieves P, and PC from stack, in this order.</h4>
        </div>
      </div>

      <div class="opcode-table">
        <table class='modes'>
          <tr>
            <th>
              Mode
            </th>
            <th>
              Syntax
            </th>
            <th>
              HEX
            </th>
            <th>
              LEN
            </th>
            <th>
              TIME
            </th>
          </tr>
          <tr>
            <td>Implied</td>
            <td>RTI</td>
            <td>$40</td>
            <td>1</td>
            <td>6</td>
          </tr>
          <tr>
            <th colspan=5>
              <table class='modes flags'>
                <tr>
                  <td>N</td>
                  <td>V</td>
                  <td>&#151;</td>
                  <td>B</td>
                  <td>D</td>
                  <td>I</td>
                  <td>Z</td>
                  <td>C</td>
                </tr>
                <tr>
                  <td>?</td>
                  <td>?</td>
                  <td>?</td>
                  <td>?</td>
                  <td>?</td>
                  <td>?</td>
                  <td>?</td>
                  <td>?</td>
                </tr>
              </table>
            </th>
          </tr>
        </table>
      </div>

      <div class="opcode-flags">
        <p>PLP "affects" potentially all seven processor status flags, and in theory even the unused bit #5 in the byte formed by the flags, since a new "state" for each flag is retrieved from the stack.</p>
      </div>

      <div class="opcode-text">
        <p>This is a instruction to manage the system interrupts. All interruption service routines must have at the end this instruction.</p>

        <p>It produces the same effect as the PLP instruction followed by one RTS, ie. extracts the last byte of the stack and puts it in the P, later the next two bytes in the stack are moved to the Program Counter (PC) as a return address.</p>

        <p>Restoring the P register ensures that after the interruption, the execution will continue normally as if nothing had happened.</p>
      </div>

      <div id="navigation">
        <h2>Navigation:</h2>
        <button title="Return to Home Page" class="button buttonNAVIGATION" onclick="cmdHOME()">Home</button>
        <button title="View List of All C64 Opcodes" class="button buttonNAVIGATION" onclick="cmdVIEWALL()">View All Opcodes List</button>
        <button title="View List of All Jump Instructions" class="button buttonNAVIGATION" onclick="cmdJUMP()">Jump Instructions</button>
      </div>
    </div>
    <footer id="footer">C64 Opcodes Extension, By WillASM</footer>
  </div>
</body>

</html>