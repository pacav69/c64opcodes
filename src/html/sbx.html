<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Instruction Set Reference for the 6510 Microprocessor: OPCODE</title>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src vscode-resource: 'self' 'unsafe-inline'; font-src vscode-resource: ; img-src vscode-resource: ; style-src vscode-resource: 'self' 'unsafe-inline';" />
  <link href="${stylesc64opcodesUri}" type="text/css" rel="stylesheet">
  <script src="${scriptUri}"></script>
  <style>
    /*C64FONT*/
  </style>
</head>

<body>
  <div id="page-container">
    <div id="content-wrap">
      <div id="header"><img src="${imgc64screenUri}" alt="c64 logo" width="264" height="180" id="header-image">
        <div id="header-text">
          <h1>SBX</h1>
          <h2>CMP and DEX at once, sets flags like CMP</h2>
          <h2>(A AND X) - oper -> X</h2>
        </div>
      </div>

      <div class="opcode-table">
        <table class='modes'>
          <tr>
            <th>
              Mode
            </th>
            <th>
              Syntax
            </th>
            <th>
              HEX
            </th>
            <th>
              LEN
            </th>
            <th>
              TIME
            </th>
          </tr>
          <tr>
          <tr>
            <td>Immediate</td>
            <td>SBX #$AB</td>
            <td>$CB</td>
            <td>2</td>
            <td>2</td>
          </tr>
          <tr>
            <th colspan=5>
              <table class='modes flags'>
                <tr>
                  <td>N</td>
                  <td>V</td>
                  <td>&#151;</td>
                  <td>B</td>
                  <td>D</td>
                  <td>I</td>
                  <td>Z</td>
                  <td>C</td>
                </tr>
                <tr>
                  <td>&#10003;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&nbsp;</td>
                  <td>&#10003;</td>
                  <td>&#10003;</td>
                </tr>
              </table>
            </th>
          </tr>
        </table>
      </div>

      <div class="opcode-text">
        <p>
          SBX ANDs the contents of the A and X registers (leaving the contents of A intact), subtracts an immediate value, and then stores the result in X. ... A few points might be made about the action of subtracting an immediate value. It actually works just like the CMP instruction, except that CMP does not store the result of the subtraction it performs in any register. This subtract operation is not affected by the state of the Carry flag, though it does affect the Carry flag. It does not affect the Overflow flag. (Flags are set like with CMP, not SBC)
        </p>

        <p>
          Another property of this opcode is that it doesn't respect the decimal mode, since it is derived from CMP rather than SBC. So if you need to perform table lookups and arithmetic in a tight interrupt routine there's no need to clear the decimal flag in case you've got some code running that operates in decimal mode.
        </p>
      </div>

        <div class="codeblock">
          <pre>
    <span style="color: #eeeb42; font-weight: bold">sbx</span><span style="color: salmon;"> #</span><span style="color: #87daf3">$5A</span><span style="color: #83f383;">         // CB 5A</span>
          </pre>
        </div>

      <div id="navigation">
        <h2>Navigation:</h2>
        <button title="Return to Home Page" class="button buttonNAVIGATION" onclick="cmdHOME()">Home</button>
        <button title="View List of All Illegal C64 Opcodes" class="button buttonNAVIGATION" onclick="cmdILLEGAL()">View All Illegal Opcodes List</button>
      </div>
    </div>
    <footer id="footer">C64 Opcodes Extension, By WillASM</footer>
  </div>
</body>

</html>